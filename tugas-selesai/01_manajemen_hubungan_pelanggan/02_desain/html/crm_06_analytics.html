<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Analitik CRM - CUR-HEART Hypnotherapy Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'cur-primary': '#1E0E62',
                        'cur-secondary': '#FF6B7A',
                        'cur-accent': '#FFB6B9',
                        'cur-success': '#00D26A',
                        'cur-warning': '#FFA94D',
                        'cur-error': '#FF6B7A',
                        'cur-info': '#667BC6',
                    },
                    fontFamily: {
                        'heading': ['Poppins', 'sans-serif'],
                        'body': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Top Navbar -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="crm_index.html" class="flex items-center">
                    <div class="flex items-center">
                        <img src="assets/img/color.png" alt="CUR-HEART Logo" class="h-10 w-auto">
                    </div>
                </a>
                <div class="flex items-center space-x-4">
                    <select class="px-3 py-1 border border-gray-300 rounded-lg text-sm">
                        <option>November 2025</option>
                        <option>Oktober 2025</option>
                        <option>September 2025</option>
                    </select>
                    <button class="relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-bell text-xl"></i>
                        <span class="absolute top-1 right-1 w-2 h-2 bg-cur-error rounded-full"></span>
                    </button>
                    <button class="relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-envelope text-xl"></i>
                        <span class="absolute top-1 right-1 w-2 h-2 bg-cur-error rounded-full"></span>
                    </button>
                    <div class="flex items-center space-x-3 pl-4 border-l border-gray-200">
                        <img src="https://ui-avatars.com/api/?name=Admin+CRM&background=1E0E62&color=fff" alt="Profile" class="w-10 h-10 rounded-full">
                        <div class="hidden md:block">
                            <div class="text-sm font-semibold text-gray-800">Admin CRM</div>
                            <div class="text-xs text-gray-500">Administrator</div>
                        </div>
                        <button class="text-gray-600">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white min-h-screen shadow-sm hidden md:block">
            <div class="p-6">
                <nav class="space-y-2">
                    <a href="crm_index.html" class="flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-xl transition">
                        <i class="fas fa-home"></i>
                        <span class="font-medium">Dashboard</span>
                    </a>
                    <div class="pt-4 pb-2">
                        <p class="px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider">Customer Relationship</p>
                    </div>
                    <a href="crm_01_client_profile.html" class="flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-xl transition">
                        <i class="fas fa-user-circle"></i>
                        <span class="font-medium">Profil Klien</span>
                    </a>
                    <a href="crm_02_session_documentation.html" class="flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-xl transition">
                        <i class="fas fa-file-medical"></i>
                        <span class="font-medium">Dokumentasi Sesi</span>
                    </a>
                    <a href="crm_03_communication.html" class="flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-xl transition">
                        <i class="fas fa-comments"></i>
                        <span class="font-medium">Komunikasi</span>
                    </a>
                    <a href="crm_04_progress_tracking.html" class="flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-xl transition">
                        <i class="fas fa-chart-line"></i>
                        <span class="font-medium">Pelacakan Kemajuan</span>
                    </a>
                    <a href="crm_05_reviews.html" class="flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-xl transition">
                        <i class="fas fa-star"></i>
                        <span class="font-medium">Ulasan & Rating</span>
                    </a>
                    <a href="crm_06_analytics.html" class="flex items-center space-x-3 px-4 py-3 bg-gradient-to-r from-cur-primary to-cur-secondary text-white rounded-xl">
                        <i class="fas fa-chart-bar"></i>
                        <span class="font-medium">Analytics CRM</span>
                    </a>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-8">
            <div class="mb-6">
                <nav class="flex" aria-label="Breadcrumb">
                    <ol class="flex items-center space-x-2">
                        <li><a href="crm_index.html" class="text-gray-500 hover:text-cur-primary">Dashboard</a></li>
                        <li><span class="text-gray-400">/</span></li>
                        <li><a href="#" class="text-gray-500 hover:text-cur-primary">CRM</a></li>
                        <li><span class="text-gray-400">/</span></li>
                        <li class="text-cur-primary font-medium">Analytics CRM</li>
                    </ol>
                </nav>
            </div>

            <div class="mb-8">
                <h1 class="text-3xl font-heading font-bold text-gray-900">Dashboard Analitik CRM</h1>
                <p class="mt-2 text-gray-600">Fitur CRM #6: Monitoring aktivitas dan performa sistem CRM</p>
            </div>

            <!-- Key Metrics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <!-- Total Klien Aktif -->
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-600">Total Klien Aktif</span>
                        <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-users text-purple-600"></i>
                        </div>
                    </div>
                    <div class="flex items-baseline">
                        <span class="text-3xl font-bold text-gray-900">62</span>
                    </div>
                    <div class="mt-2 flex items-center text-sm">
                        <span class="text-green-600 font-medium">+8 klien</span>
                        <span class="text-gray-500 ml-2">bulan ini</span>
                    </div>
                    <div class="mt-3 text-xs text-gray-500">45 klien baru, 17 returning</div>
                </div>

                <!-- Sesi Bulan Ini -->
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-600">Sesi Bulan Ini</span>
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-calendar-check text-blue-600"></i>
                        </div>
                    </div>
                    <div class="flex items-baseline">
                        <span class="text-3xl font-bold text-gray-900">115</span>
                    </div>
                    <div class="mt-2 flex items-center text-sm">
                        <span class="text-green-600 font-medium">+35 sesi</span>
                        <span class="text-gray-500 ml-2">vs bulan lalu</span>
                    </div>
                    <div class="mt-3 text-xs text-gray-500">Rata-rata 5.2 sesi/hari</div>
                </div>

                <!-- Avg Response Time -->
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-600">Avg Response Time</span>
                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-clock text-green-600"></i>
                        </div>
                    </div>
                    <div class="flex items-baseline">
                        <span class="text-3xl font-bold text-gray-900">2.5</span>
                        <span class="text-gray-500 ml-1">jam</span>
                    </div>
                    <div class="mt-2 flex items-center text-sm">
                        <span class="text-green-600 font-medium">Excellent</span>
                        <span class="text-gray-500 ml-2">< 4 jam</span>
                    </div>
                    <div class="mt-3 text-xs text-gray-500">98% pesan dibalas hari ini</div>
                </div>

                <!-- Rating Rata-rata -->
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-600">Rating Rata-rata</span>
                        <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-star text-yellow-600"></i>
                        </div>
                    </div>
                    <div class="flex items-baseline">
                        <span class="text-3xl font-bold text-gray-900">4.8</span>
                        <span class="text-gray-500 ml-1">/5.0</span>
                    </div>
                    <div class="mt-2 flex items-center text-sm">
                        <span class="text-gray-600 font-medium">127 ulasan</span>
                        <span class="text-gray-500 ml-2">bulan ini</span>
                    </div>
                    <div class="mt-3 text-xs text-gray-500">78% rating 5 bintang</div>
                </div>
            </div>

            <!-- Charts Row -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <!-- Aktivitas Sesi Harian -->
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3 class="text-lg font-heading font-semibold text-gray-900 mb-4">Aktivitas Sesi (30 Hari Terakhir)</h3>
                    <div class="h-64">
                        <canvas id="sessionActivityChart"></canvas>
                    </div>
                </div>

                <!-- Distribusi Layanan -->
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3 class="text-lg font-heading font-semibold text-gray-900 mb-4">Distribusi Jenis Layanan</h3>
                    <div class="h-64">
                        <canvas id="serviceDistributionChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Penggunaan Fitur CRM -->
            <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
                <h3 class="text-lg font-heading font-semibold text-gray-900 mb-4">Penggunaan Fitur CRM (Bulan Ini)</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Fitur</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total Aktivitas</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Pengguna Aktif</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tingkat Adopsi</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Kepuasan</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Profil Klien</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">248 views</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">62 klien</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">100%</td>
                                <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">4.6/5.0</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Dokumentasi Sesi</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">109 dokumen</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">3 terapis</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">95%</td>
                                <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">4.7/5.0</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Komunikasi</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">342 pesan</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">47 klien</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium">75%</td>
                                <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full">4.5/5.0</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Pelacakan Kemajuan</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">186 views</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">50 klien</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium">80%</td>
                                <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">4.8/5.0</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Ulasan & Rating</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">75 ulasan</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">40 klien</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-orange-600 font-medium">65%</td>
                                <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full">4.4/5.0</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Performance Summary -->
            <div class="bg-gradient-to-r from-cur-primary to-cur-secondary rounded-lg shadow-sm p-8 text-white">
                <h3 class="text-xl font-heading font-bold mb-6">Ringkasan Performa CRM Bulan Ini</h3>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div>
                        <p class="text-sm opacity-90 mb-2">Total Interaksi</p>
                        <p class="text-3xl font-bold">1.160</p>
                        <p class="text-sm opacity-75 mt-1">Aktivitas sistem</p>
                    </div>
                    <div>
                        <p class="text-sm opacity-90 mb-2">Engagement Rate</p>
                        <p class="text-3xl font-bold">83%</p>
                        <p class="text-sm opacity-75 mt-1">Klien aktif menggunakan</p>
                    </div>
                    <div>
                        <p class="text-sm opacity-90 mb-2">Kepuasan Sistem</p>
                        <p class="text-3xl font-bold">4.6/5.0</p>
                        <p class="text-sm opacity-75 mt-1">Rata-rata semua fitur</p>
                    </div>
                    <div>
                        <p class="text-sm opacity-90 mb-2">Uptime</p>
                        <p class="text-3xl font-bold">99.8%</p>
                        <p class="text-sm opacity-75 mt-1">Ketersediaan sistem</p>
                    </div>
                </div>
            </div>

            <!-- CRM Feature Note -->
            <div class="mt-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <i class="fas fa-info-circle text-blue-400"></i>
                    </div>
                    <div class="ml-3">
                        <p class="text-sm text-blue-700">
                            <strong>Fitur CRM #6: Dashboard Analitik CRM</strong><br>
                            Menyediakan visibilitas real-time terhadap metrik CRM untuk pengambilan keputusan berbasis data. Tingkat adopsi: 100% (Admin) | Kepuasan: 4.7/5.0
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Session Activity Chart (30 days)
        const sessionCtx = document.getElementById('sessionActivityChart').getContext('2d');
        new Chart(sessionCtx, {
            type: 'bar',
            data: {
                labels: ['1 Nov', '3 Nov', '5 Nov', '7 Nov', '9 Nov', '11 Nov', '13 Nov', '15 Nov', '17 Nov', '19 Nov', '21 Nov', '23 Nov', '25 Nov', '27 Nov', '29 Nov'],
                datasets: [{
                    label: 'Sesi Selesai',
                    data: [8, 6, 9, 7, 10, 8, 11, 9, 8, 10, 9, 11, 8, 7, 9],
                    backgroundColor: '#00D26A',
                    borderRadius: 6
                }, {
                    label: 'Sesi Dijadwalkan',
                    data: [2, 3, 1, 2, 1, 3, 2, 2, 3, 1, 2, 1, 3, 2, 2],
                    backgroundColor: '#667BC6',
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: {
                                family: 'Inter',
                                size: 11
                            },
                            usePointStyle: true,
                            padding: 15
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        padding: 10,
                        titleFont: {
                            size: 13,
                            family: 'Poppins'
                        },
                        bodyFont: {
                            size: 12,
                            family: 'Inter'
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 2,
                            font: {
                                family: 'Inter',
                                size: 10
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        ticks: {
                            font: {
                                family: 'Inter',
                                size: 9
                            }
                        },
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });

        // Service Distribution Chart
        const serviceCtx = document.getElementById('serviceDistributionChart').getContext('2d');
        new Chart(serviceCtx, {
            type: 'doughnut',
            data: {
                labels: ['Stress & Anxiety (35%)', 'Trauma Healing (25%)', 'Self-Confidence (20%)', 'Sleep Therapy (12%)', 'Lainnya (8%)'],
                datasets: [{
                    data: [35, 25, 20, 12, 8],
                    backgroundColor: [
                        '#FF6B7A',
                        '#667BC6',
                        '#FFA94D',
                        '#00D26A',
                        '#1E0E62'
                    ],
                    borderWidth: 3,
                    borderColor: '#fff',
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'bottom',
                        labels: {
                            font: {
                                family: 'Inter',
                                size: 11
                            },
                            padding: 12,
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        padding: 12,
                        titleFont: {
                            size: 14,
                            family: 'Poppins'
                        },
                        bodyFont: {
                            size: 13,
                            family: 'Inter'
                        },
                        callbacks: {
                            label: function(context) {
                                const label = context.label || '';
                                const value = context.parsed || 0;
                                const count = Math.round((value / 100) * 115); // 115 total sessions
                                return label + ': ' + count + ' sesi';
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
